# 变量充当对象 Key 从未如此简单

今天我们来看一道简单的题

```js
var key = 'name'
var val = 'tom'
```

将上面的两个变量变成下面的对象

```json
{
  "name": "tom"
}
```

我们会经常遇到这样的场景，这里的是重点是对象的键值是一个变量，所以通常情况下我们会先定义一个变量，然后进行赋值

```js
var obj = {}
obj[key] = val
```

相信 99% 的同学都会这样做，那么，作为一个有追求的前端工程师，如果我让你不单独定义这个变量，可以实现吗？也许你会想到 `JSON.parse()`

```js
JSON.parse(`{"${key}": "${val}"}`)
```

没错，这样是可以得到结果对象的，但是这里的 val 是个数字的话，结果就错了，得这样写

```js
JSON.parse(`{"${key}": ${val}}`)
```

由于 JSON 的严格格式，这里需要判断 val 的值类型是数字还是字符串，从而决定是否加后面的引号。看上去这并非是一个好的方案，那么究竟有没有简洁的实现方式呢？

下面该我们的主角出厂了，这是 ES6 新写法

```js
{[key]: val}
```

什么？这也太简单了吧，的确，就是这么简单。这里的 [] 是关键，里面可以是任何有效的变量和表达式，例如

```js
{
  [1+2]: 3
}

// {3: 3}

{
  [(() => 'name')()]: 'tom'
}

// {"name": "tom"}
```